stages:
  preprocessing:
    cmd: python3 preprocess.py
    deps:
      - general_params.yml
      - preprocess.py
      - raw/rML-raw-data.csv
    outs:
      - processed/rML-test.csv
      - processed/rML-train.csv
  training:
    cmd: python3 training.py
    deps:
      - general_params.yml
      - model_def.py
      - processed/rML-train.csv
      - training.py
    outs:
      - models:
          persist: true
      - params.yml:
          cache: false
          persist: true
    metrics:
      - training_metrics.csv:
          cache: false
  eval:
    cmd: python3 evaluate.py
    deps:
    - evaluate.py
    - general_params.yml
    - model_params.yml
    - models
    - processed/rML-test.csv
    metrics:
    - test_metrics.csv:
        cache: false
